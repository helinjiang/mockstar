(this["webpackJsonpmockstar-ui"]=this["webpackJsonpmockstar-ui"]||[]).push([[0],{226:function(e,t,a){e.exports=a(435)},239:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},289:function(e,t,a){},328:function(e,t){},331:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),i=a(56),l=a(83),s=a(196),u=a(45),m=a(219),d=a(104),f=a.n(d),p="storeStatus",h=function(e){return function(e){return function(t){var a=t["Call API"];if("undefined"===typeof a)return e(t);var n=a.type,r=Object(m.a)(a.types,3),c=r[0],o=r[1],i=r[2];function l(e){e=Object.assign(t,e);var a=Object(u.a)({},p,"fetching");switch(e.type){case o:a[p]="success";break;case i:a[p]="fail"}"fetching"!==a[p]?e.data=Object.assign(e.data||{},a):e.data={};var n=e;return delete n["Call API"],n}a.type=n||"GET";var s=Object.assign({},a.data);e(l({type:c,data:s}));var d=a.url;return f()(a.type,d).send(a.data).then((function(e){return e.body||{}})).then((function(t){var n=l({type:o,data:t});return e(n),"function"===typeof a._onSuccess&&a._onSuccess(t,e),n})).catch((function(t){if(!t||!t.stack||t.errno){var n=l({type:i,error:t});return e(n),"function"===typeof a._onFail&&a._onFail(t,e),Promise.reject(n)}setTimeout((function(){throw t}),0)}))}}},E=a(54),v=a.n(E);function k(){var e=v.a.merge({namespace:"",adminSiteRouteName:"mockstar-admin",adminCGIRouteName:"mockstar-cgi"},window._mockstar_config_);return window._mockstar_config_=e,e}function g(){var e=k().namespace;return e?"/".concat(e,"/"):"/"}function b(){var e=k().adminSiteRouteName;return g()+e}function y(){var e=k().adminCGIRouteName;return g()+e}function S(e){return function(t,a){return t(function(e){return Object(u.a)({},"Call API",{types:["MOCKER_REQUEST","MOCKER_REQUEST_SUCCESS","MOCKER_REQUEST_FAIL"],url:"".concat(y(),"/mocker/").concat(e)})}(e))}}function C(e){return function(t,a){return t(function(e){return Object(u.a)({},"Call API",{types:["MOCKER_README_REQUEST","MOCKER_README_REQUEST_SUCCESS","MOCKER_README_REQUEST_FAIL"],url:"".concat(y(),"/mocker/").concat(e,"/readme")})}(e))}}function O(e,t){return Object(u.a)({},"Call API",{types:["SET_ACTIVE_MODULE_REQUEST","SET_ACTIVE_MODULE_REQUEST_SUCCESS","SET_ACTIVE_MODULE_REQUEST_FAIL"],url:"".concat(y(),"/mocker/").concat(e),type:"POST",data:t})}function M(e,t){return function(a,n){return a(O(e,{config:{activeModule:t}}))}}function I(e,t){return function(a,n){return a(O(e,{config:{disable:t}}))}}var _={isLoaded:!1,data:{},readme:""};var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data,r={};switch(a){case"MOCKER_REQUEST":r={isLoaded:!1};break;case"MOCKER_REQUEST_SUCCESS":r={isLoaded:!0,data:v.a.merge({},n,{modules:(n.modules||[]).sort((function(e,t){return t.priority-e.priority}))})};break;case"MOCKER_REQUEST_FAIL":r={isLoaded:!0};break;case"MOCKER_README_REQUEST_SUCCESS":r={readme:n.html};break;case"SET_ACTIVE_MODULE_REQUEST_SUCCESS":r.data=v.a.merge({},e.data,n)}return Object.keys(r).length?Object.assign({},e,r):e};function R(){return function(e,t){return e(Object(u.a)({},"Call API",{types:["MOCKER_LIST_REQUEST","MOCKER_LIST_REQUEST_SUCCESS","MOCKER_LIST_REQUEST_FAIL"],url:"".concat(y(),"/mocker")}))}}var T={isLoaded:!1,list:[]};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data,r={};switch(a){case"MOCKER_LIST_REQUEST_SUCCESS":r={isLoaded:!0,list:(n||[]).sort((function(e,t){return t.priority-e.priority}))};break;case"MOCKER_LIST_REQUEST_FAIL":r={isLoaded:!0};break;case"SET_ACTIVE_MODULE_REQUEST_SUCCESS":r.list=e.list.map((function(e){return e.name===n.name&&(e=v.a.merge({},e,n)),e}))}return Object.keys(r).length?Object.assign({},e,r):e};function L(){return function(e,t){return e(Object(u.a)({},"Call API",{types:["DETAIL_REQUEST","DETAIL_REQUEST_SUCCESS","DETAIL_REQUEST_FAIL"],url:"".concat(y(),"/detail")}))}}var A={isLoaded:!1,config:{}};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data,r={};switch(a){case"DETAIL_REQUEST":r={isLoaded:!1};break;case"DETAIL_REQUEST_SUCCESS":r=v.a.merge({isLoaded:!0},e,n);break;case"DETAIL_REQUEST_FAIL":r={isLoaded:!0}}return Object.keys(r).length?Object.assign({},e,r):e},D=Object(l.c)({mockerInfo:j,mockerListInfo:w,detailInfo:N}),U=function(e){return Object(l.d)(D,e,Object(l.a)(s.a,h))},P=a(35),x=a(36),Q=a(38),F=a(37),K=a(446),H=a(451),q=a(447),G=a(199),J=a(437),V=a(67),z=a(448),W=(a(239),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){var r;return Object(P.a)(this,a),(r=t.call(this,e,n)).handleIsActive=function(e){var t;if(e){var a=(t={},Object(u.a)(t,g(),"home"),Object(u.a)(t,"".concat(b(),"/dashboard"),"home"),Object(u.a)(t,"".concat(b(),"/mockers"),"mockers"),Object(u.a)(t,"".concat(b(),"/debug"),"debug"),t)[e.url];a&&a!==r.state.activeMenu&&setTimeout((function(){r.setState({activeMenu:a,isInit:!0})}),0)}},r.state={activeMenu:"",isInit:!1},r}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state.activeMenu;return window.self!==window.top?null:r.a.createElement(J.a.Header,{className:"layout-header header"},r.a.createElement(V.a,{theme:"dark",mode:"horizontal",selectedKeys:[e],style:{lineHeight:"64px"}},r.a.createElement(V.a.Item,{key:"home"},r.a.createElement(z.a,{to:"".concat(b(),"/dashboard"),isActive:this.handleIsActive},"\u9996\u9875")),r.a.createElement(V.a.Item,{key:"mockers"},r.a.createElement(z.a,{to:"".concat(b(),"/mockers"),isActive:this.handleIsActive},"\u6570\u636e\u6a21\u62df"))))}}]),a}(n.Component)),B=(a(262),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props.localServerConfig,t=window.location.hostname,a="localhost"===t||"127.0.0.1"===t?e.port:window.location.port,n=t+(a?":".concat(a):"")+g().slice(0,-1);return r.a.createElement("div",{className:"proxy-info"},r.a.createElement("h2",null,"\u4ee3\u7406\u8bbe\u7f6e"),r.a.createElement("blockquote",null,"\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528"," ",r.a.createElement("a",{href:"https://avwo.github.io/whistle/",target:"_blank"},"whistle")," ","\u6765\u505a\u4ee3\u7406\u670d\u52a1\u5668\u3002"),r.a.createElement("p",null,"\u5047\u8bbe\u771f\u5b9e\u7684CGI\u8bf7\u6c42\u4e3a ",r.a.createElement("code",null,"http://youdomain.com/cgi-bin/a/b/demo_01"),"\uff0c\u5219\u8bf7\u8bbe\u7f6e\u4ee3\u7406\u5982\u4e0b\uff1a"),r.a.createElement("pre",null,r.a.createElement("code",null,r.a.createElement("p",null,"youdomain.com ",n),r.a.createElement("p",null," "),r.a.createElement("p",null,"# \u6216\u8005"),r.a.createElement("p",null,"youdomain.com/cgi-bin/a/b/demo_01 ",n),r.a.createElement("p",null," "),r.a.createElement("p",null,"# \u6216\u8005"),r.a.createElement("p",null,"youdomain.com/cgi-bin ",n))),g().length>1?r.a.createElement("div",null,"\u6ce8\u610f\uff0c\u7531\u4e8e\u60a8\u542f\u7528\u4e86 ",r.a.createElement("code",null,"namespace")," \u53c2\u6570\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u5728 nginx \u7684\u914d\u7f6e\u4e2d\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff0c\u5426\u5219\u4ee3\u7406\u5c06\u65e0\u6cd5\u751f\u6548\uff01",r.a.createElement("pre",null,r.a.createElement("code",null,r.a.createElement("p",null,"location ^~ ",g()," ","{"),r.a.createElement("p",null," rewrite ",g(),"(.*) /$1 break;"),r.a.createElement("p",null," proxy_pass http://127.0.0.1:",k().port,"/;"),r.a.createElement("p",null,"}")))):null)}}]),a}(n.Component));var $=Object(i.b)((function(e){return{localServerConfig:e.detailInfo.config}}))(B),X=(a(263),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){return Object(P.a)(this,a),t.call(this,e,n)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-home text-content"},r.a.createElement("h2",null,"HOME"),r.a.createElement("p",null,"\u6b22\u8fce\u4f7f\u7528"," ",r.a.createElement("a",{href:"https://github.com/mockstarjs/mockstar",target:"_blank"},"mockstar"),"\uff0c\u6b22\u8fce\u7ed9\u6211\u4eec\u63d0"," ",r.a.createElement("a",{href:"https://github.com/mockstarjs/mockstar/issues",target:"_blank"},"Issues"),"\uff01"),r.a.createElement($,null))}}]),a}(n.Component)),Y=a(47),Z=a(98),ee=a(60),te=a(441),ae=a(445);a(264);function ne(e){var t=this,a=e.mockerItem,n=e.mockersPath,c=e.curTag,o=e.index,i=e.clickTag,l=e.setActive,s=e.setDisable,u=a.config,m=u.disable;return r.a.createElement(te.a,{className:"mocker-list-item",title:"".concat(o+1,". ").concat(a.name),extra:r.a.createElement("div",{className:"card-action"},r.a.createElement(Y.a,{type:m?"primary":"default",icon:"setting",className:"set-disable-btn",onClick:s.bind(this,a.name,m)},m?"\u542f\u7528":"\u7981\u7528"),r.a.createElement(z.a,{to:"".concat(n,"/").concat(a.name)},"\u66f4\u591a..."))},r.a.createElement("div",{className:u.plugin+" "+u.method}),r.a.createElement("div",{className:"detail"},r.a.createElement(ae.a,{message:u.description,type:"info",showIcon:!0})),r.a.createElement("p",null,"\u70b9\u51fb\u6807\u7b7e\u8fdb\u884c\u8fc7\u6ee4\uff1a"),r.a.createElement(Y.a.Group,null,u.tags.map((function(e,a){return r.a.createElement(Y.a,{key:a,className:e===c?"active":"",icon:"tag",onClick:i.bind(t,e)},e)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"\u8bf7\u9009\u62e9\u9700\u8981\u6fc0\u6d3b\u7684\u6a21\u5757\uff1a"),r.a.createElement(Y.a.Group,null,a.mockModuleList.map((function(e,n){return r.a.createElement(Y.a,{key:n,disabled:m?"disable":"",className:e.name===u.activeModule?"active":"",icon:e.name===u.activeModule?"check":"",onClick:l.bind(t,a.name,e.name)},e.name)}))))}a(289);var re=function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){var r;return Object(P.a)(this,a),(r=t.call(this,e,n)).handleClickTag=function(e){r.setState({curTag:e})},r.handleActive=function(e,t){r.props.setMockerActiveModule(e,t)},r.handleDisable=function(e,t){r.props.setMockerDisable(e,!t)},r.state={curTag:"\u5168\u90e8"},r}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.props.loadMockerList()}},{key:"getAllTags",value:function(){var e=this.props.list,t=[];return e.forEach((function(e){t=t.concat(e.config.tags)})),v.a.uniq(t)}},{key:"getFilterList",value:function(){var e=this.state.curTag;return this.props.list.filter((function(t){return t.config.tags.indexOf(e)>-1}))}},{key:"getResultToRenderList",value:function(e){for(var t=e.length,a=t%3!==0?parseInt(t/3,10)+1:parseInt(t/3,10),n=[],r=0;r<a;r++){for(var c=[],o=3*r;o<3*(r+1)&&o<t;o++)c.push(e[o]);n.push(c)}return n}},{key:"render",value:function(){var e=this,t=this.props.match,a=this.state.curTag,n=this.getAllTags(),c=this.getFilterList(),o=this.getResultToRenderList(c);return r.a.createElement("div",{className:"mockers"},r.a.createElement("div",{className:"tag-wrapper"},r.a.createElement(Y.a.Group,null,n.map((function(t,n){return r.a.createElement(Y.a,{key:n,className:t===a?"active":"",icon:"tag",onClick:e.handleClickTag.bind(e,t)},t)})))),r.a.createElement("div",{className:"list-wrapper"},o.map((function(n,c){return r.a.createElement(Z.a,{gutter:16,key:c},n.map((function(n,o){return r.a.createElement(ee.a,{span:8,key:o},r.a.createElement(ne,{index:3*c+o,curTag:a,mockerItem:n,mockersPath:t.url,clickTag:e.handleClickTag,setActive:e.handleActive,setDisable:e.handleDisable}))})))}))))}}]),a}(n.Component);var ce=Object(i.b)((function(e){var t=e.mockerListInfo;return{isLoaded:t.isLoaded,list:t.list}}),(function(e){return{loadMockerList:function(){return e(R())},setMockerActiveModule:function(t,a){return e(M(t,a))},setMockerDisable:function(t,a){return e(I(t,a))}}}))(re),oe=a(159);function ie(e,t){return new Promise((function(a,n){f.a.post(e).set("Content-Type","application/json").send(t).end((function(e,t){if(e)return n(e);a(t.body)}))}))}function le(e,t){return new Promise((function(a,n){f.a.get(e).query(t).end((function(e,t){if(e)return n(e);a(t.body)}))}))}var se=a(444);a(331);function ue(e){var t=e.name,a=e.match.url.split("/");a.pop();var n=a.join("/");return r.a.createElement("div",{className:"mocker-breadcrumb"},r.a.createElement(se.a,null,r.a.createElement(se.a.Item,null,r.a.createElement(z.a,{to:n}," \u5217\u8868 ")),r.a.createElement(se.a.Item,null,t)))}a(334);function me(e){var t=e.mockerItem;return(t.mockModuleList||[]).filter((function(e){return e.name===t.config.activeModule}))[0]?r.a.createElement(te.a,{className:"mocker-detail"},r.a.createElement("div",{className:t.config.plugin+" "+t.config.method}),r.a.createElement(Z.a,null,r.a.createElement(ee.a,{span:12},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,t.config.description),r.a.createElement("p",null,t.config.version?"v".concat(t.config.version):"",t.config.author?" by ".concat(t.config.author):"")),r.a.createElement(ee.a,{span:12},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u6570\u636e\u7c7b\u578b:"),r.a.createElement("td",null,t.config.plugin)),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100px"}},"\u914d\u7f6e\u7684\u8def\u7531:"),r.a.createElement("td",null,t.config.route)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5df2\u6fc0\u6d3b\u6570\u636e:"),r.a.createElement("td",null,t.config.activeModule))))))):null}var de=a(442),fe=(a(335),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){var r;return Object(P.a)(this,a),(r=t.call(this,e,n)).handleOnChange=function(e){r.setState({showData:e.target.value})},r.state={showData:""},r}return Object(x.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.data!==e.data&&this.setState({showData:JSON.stringify(e.data,null,2)})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.mockerItem,n=e.onHide,c=e.onEmitPush,o=this.state.showData,i=!!t,l="async"===a.config.plugin;return r.a.createElement("div",{className:"mocker-show-result"},r.a.createElement(de.a,{title:"\u7ed3\u679c",visible:i,onCancel:n,onOk:n,footer:[l?r.a.createElement(Y.a,{key:"push",type:"primary",size:"large",onClick:c.bind(this,o)},"\u4e3b\u52a8\u63a8\u9001"):null,r.a.createElement(Y.a,{key:"cancel",type:"primary",size:"large",onClick:n},"\u77e5\u9053\u4e86")]},r.a.createElement("textarea",{name:"cgidata",id:"cgidata",style:{width:"100%",minHeight:"600px"},value:o,onChange:this.handleOnChange})))}}]),a}(n.Component));a(336);function pe(e){var t=e.isDisabled,a=e.activeModule,n=e.previewResult,c=e.updateDisable;return r.a.createElement("div",{className:"mocker-action"},t?r.a.createElement(ae.a,{message:"\u5f53\u524d mock \u670d\u52a1\u5df2\u88ab\u7981\u7528\uff0c\u60a8\u53ef\u8bf7\u70b9\u51fb\u201c\u542f\u7528\u201d\u6309\u94ae\u5f00\u59cb mock \u670d\u52a1\uff01",type:"warning",showIcon:!0}):r.a.createElement(ae.a,{message:"mock \u670d\u52a1\u5df2\u5f00\u59cb\u751f\u6548\uff01",type:"success",showIcon:!0}),r.a.createElement(Y.a,{type:"primary",disabled:t?"disable":"",icon:"profile",onClick:n},"\u9884\u89c8\u7ed3\u679c \u3010 ",a," \u3011"),r.a.createElement(Y.a,{type:t?"primary":"default",icon:"setting",onClick:c},t?"\u542f\u7528":"\u7981\u7528"," mock \u670d\u52a1"))}a(337);function he(e){var t=e.isDisabled,a=e.mockerItem,n=e.mockServerHost;return"xhr"!==a.config.plugin||t?null:r.a.createElement(te.a,{className:"mocker-proxy-info"},r.a.createElement("p",null,"whistle \u4ee3\u7406\u8bbe\u7f6e\uff1a"," ",r.a.createElement("code",null,"/(.*)",a.config.route,"(.*)/ ",n)))}var Ee=a(439);a(338);function ve(e){var t=this,a=e.isLoaded,n=e.mockerItem,c=e.previewResult,o=e.updateActive,i=n.config.activeModule||"",l=n.mockModuleList||[],s=[{title:"\u6570\u636e\u6a21\u578b\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u63cf\u8ff0",dataIndex:"description",key:"description",render:function(e,t){return r.a.createElement("div",null,t.config.version?"V"+t.config.version:"",t.config.author?" by"+t.config.author:"",t.config.description)}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return r.a.createElement("div",null,r.a.createElement(Y.a,{type:"primary",disabled:n.config.disable?"disable":"",onClick:c.bind(t,a.config.match)},"\u9884\u89c8\u7ed3\u679c"),r.a.createElement("span",{className:"ant-divider"}),a.name!==i?r.a.createElement(Y.a,{type:"primary",disabled:n.config.disable?"disable":"",onClick:o.bind(t,a.name)},"\u6fc0\u6d3b"):r.a.createElement(Y.a,{type:"primary",disabled:"disable"},"\u5df2\u6fc0\u6d3b"))}}];return r.a.createElement("div",{className:"mock-module-list"},r.a.createElement(Ee.a,{loading:!a,rowKey:"name",columns:s,dataSource:l}))}a(423);function ke(e){var t=e.htmlContent;return t?r.a.createElement("div",{className:"mocker-readme"},r.a.createElement(te.a,{title:"\u4f7f\u7528\u8bf4\u660e"},r.a.createElement("div",{className:"readme-content text-content",dangerouslySetInnerHTML:{__html:t}}))):null}var ge=a(449),be=(a(424),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){var r;return Object(P.a)(this,a),(r=t.call(this,e,n)).handleClick=function(e){e.item;var t=e.key;r.props.match.params.mockerName!==t&&(r.props.history.push(r.props.match.path.replace(/:mockerName/gi,t)),r.props.refresh(t))},r}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mockerListInfo,a=e.match;if(!t.isLoaded)return null;var n=a.params.mockerName;return r.a.createElement("div",{className:"mocker-menu"},r.a.createElement(V.a,{defaultSelectedKeys:[n],selectedKeys:[n],onClick:this.handleClick},t.list.map((function(e){return r.a.createElement(V.a.Item,{key:e.name,className:e.config.plugin+" "+e.config.method},e.name)}))))}}]),a}(n.Component)),ye=Object(ge.a)(be),Se=(a(425),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){var r;return Object(P.a)(this,a),(r=t.call(this,e,n)).handlePreviewResult=function(e){var t=r.props.mockerItem,a=t.config.route,n=r.getMockServerHost();if("async"!==t.config.plugin){if(n&&a.indexOf(n)<0){var c=k().namespace,o=0===a.indexOf("/")?a:"/"+a,i=(c?"/".concat(c):"")+o;a="http://".concat(n).concat(i)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data?e.data:void 0;return"post"===e.method?ie(e.url,t):le(e.url,t)})({method:t.config.method,url:a,data:e}).then((function(e){r.handleModalShow(e)})).catch((function(e){console.error(e)}))}else{new oe.AsyncClient("http://".concat(n)).request(a,e).then((function(e){r.handleModalShow(e)})).catch((function(e){console.error(e)}))}},r.handleActive=function(e){r.props.setMockerActiveModule(r.props.mockerItem.name,e)},r.handleModalShow=function(e){r.setState({modalShowData:e})},r.handleModalHide=function(){r.setState({modalShowData:null})},r.handleModalEmitPush=function(e){console.log("--push---",e);var t=r.props.mockerItem,a=r.getMockServerHost();new oe.AsyncClient("http://".concat(a)).emit("emitStub",{route:t.config.route,name:t.config.name,activeModule:t.config.activeModule,result:e})},r.handleDisable=function(){r.props.setMockerDisable(r.props.mockerItem.name,!r.props.mockerItem.config.disable)},r.handleRefresh=function(e){r.props.loadMocker(e),r.props.loadMockerReadme(e)},r.state={modalShowData:null},r}return Object(x.a)(a,[{key:"componentDidMount",value:function(){console.log("Mocker componentDidMount",this.props);var e=this.props.match.params.mockerName;this.props.loadMocker(e),this.props.loadMockerReadme(e),this.props.loadMockerList()}},{key:"getMockServerHost",value:function(){var e=this.props.localServerConfig,t=window.location.hostname,a="localhost"===t||"127.0.0.1"===t?e.port:window.location.port;return t+(a?":".concat(a):"")}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,a=e.mockerItem,n=e.readme,c=e.match,o=e.mockerListInfo,i=this.state.modalShowData,l=this.getMockServerHost();return r.a.createElement(J.a,{className:"mockers-mocker"},r.a.createElement(J.a.Sider,{className:"mocker-sider",width:"300"},r.a.createElement(ye,{mockerListInfo:o,match:c,refresh:this.handleRefresh})),r.a.createElement(J.a,{className:"mocker-content"},r.a.createElement(ue,{name:a.name,match:c}),t?r.a.createElement("div",null,r.a.createElement(pe,{isDisabled:a.config.disable,activeModule:a.config.activeModule,previewResult:this.handlePreviewResult.bind(this,null),updateDisable:this.handleDisable}),r.a.createElement(he,{isDisabled:a.config.disable,mockerItem:a,mockServerHost:l}),r.a.createElement(me,{mockerItem:a}),r.a.createElement(ve,{isLoaded:t,mockerItem:a,previewResult:this.handlePreviewResult,updateActive:this.handleActive}),r.a.createElement(fe,{data:i,mockerItem:a,onHide:this.handleModalHide,onEmitPush:this.handleModalEmitPush}),r.a.createElement(ke,{htmlContent:n})):r.a.createElement("div",null,"\u52a0\u8f7d\u4e2d...")))}}]),a}(n.Component));var Ce=Object(i.b)((function(e){var t=e.mockerInfo,a=e.mockerListInfo,n=e.detailInfo;return{isLoaded:t.isLoaded,mockerItem:t.data,readme:t.readme,mockerListInfo:a,localServerConfig:n.config,hostname:n.hostname}}),(function(e){return{loadMockerList:function(){return e(R())},loadMocker:function(t){return e(S(t))},loadMockerReadme:function(t){return e(C(t))},setMockerActiveModule:function(t,a){return e(M(t,a))},setMockerDisable:function(t,a){return e(I(t,a))}}}))(Se);a(426);function Oe(e){var t=e.match;return r.a.createElement("div",{className:"page-mockers"},r.a.createElement(G.a,{path:"".concat(t.url,"/:mockerName"),component:Ce}),r.a.createElement(G.a,{exact:!0,path:t.url,component:ce}))}var Me=a(220),Ie=a(450),_e=a(438),je=a(440),Re=a(443),Te={labelCol:{span:8},wrapperCol:{span:16}},we={wrapperCol:{offset:8,span:16}},Le={retcode:0,result:{description:"\u6211\u662f debug"}},Ae=function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).formRef=r.a.createRef(),e.onFinish=function(t){console.log("Success:",t),e.props.handleCreateMocker(t)},e.onFinishFailed=function(e){console.log("Failed:",e)},e}return Object(x.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){this.props.localServerConfig.mockServerPath!==e.localServerConfig.mockServerPath&&this.formRef.current.setFieldsValue({parentPath:e.localServerConfig.mockServerPath})}},{key:"render",value:function(){var e=this.props.localServerConfig,t={parentPath:e.mockServerPath,mockerName:"i-am-xhr-request-get",mockerMethod:"GET",mockerRoute:"/cgi-bin/i-am-xhr-request-get",debugMockModuleJsonData:JSON.stringify(Le,null,2)};return r.a.createElement(je.a,Object.assign({},Te,{name:"basic",ref:this.formRef,initialValues:t,onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),r.a.createElement(je.a.Item,{label:"\u7236\u7ea7\u76ee\u5f55",name:"parentPath",rules:[{required:!0,message:"Please input your parentPath!"}]},r.a.createElement(Re.a,{value:e.mockServerPath})),r.a.createElement(je.a.Item,{label:"mocker name",name:"mockerName",rules:[{required:!0,message:"Please input your mockerName!"}]},r.a.createElement(Re.a,null)),r.a.createElement(je.a.Item,{label:"mocker method",name:"mockerMethod",rules:[{required:!0,message:"Please input your mockerMethod!"}]},r.a.createElement(Re.a,null)),r.a.createElement(je.a.Item,{label:"mocker route",name:"mockerRoute",rules:[{required:!0,message:"Please input your mockerRoute!"}]},r.a.createElement(Re.a,null)),r.a.createElement(je.a.Item,{label:"\u6869\u6570\u636e",name:"debugMockModuleJsonData"},r.a.createElement(Re.a.TextArea,{autoSize:!0})),r.a.createElement(je.a.Item,we,r.a.createElement(Y.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))}}]),a}(n.Component),Ne=(a(432),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={logs:[],message:"",messageType:"info"},e.handleCreateMocker=function(t){var a="".concat(y(),"/create-mocker");e.addLog("\u51c6\u5907\u53d1\u9001\u8bf7\u6c42\uff1a".concat(JSON.stringify(t))),ie(a,t).then((function(t){200===t.status?e.addLog(t,"success"):e.addLog(t.result,"error")})).catch((function(t){console.error(t),e.addLog(t&&t.message||t,"error")}))},e.addLog=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";e.setState({logs:[].concat(Object(Me.a)(e.state.logs),[{message:"object"===typeof t?JSON.stringify(t):t,messageType:a}])})},e}return Object(x.a)(a,[{key:"getMockServerHost",value:function(){var e=this.props.localServerConfig,t=window.location.hostname,a="localhost"===t||"127.0.0.1"===t?e.port:window.location.port;return t+(a?":".concat(a):"")}},{key:"render",value:function(){var e=this.props.localServerConfig,t=this.state.logs;return r.a.createElement("div",{className:"create-mocker"},r.a.createElement("h2",null,"\u521b\u5efa mocker"),r.a.createElement(Ae,{localServerConfig:e,handleCreateMocker:this.handleCreateMocker}),t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Ie.a,null,t),r.a.createElement(ae.a,{message:e.message,type:e.messageType}),r.a.createElement(_e.a,null))})))}}]),a}(n.Component));var De=Object(i.b)((function(e){return{localServerConfig:e.detailInfo.config}}))(Ne),Ue=(a(433),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(e,n){return Object(P.a)(this,a),t.call(this,e,n)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-debug text-content"},r.a.createElement(De,null))}}]),a}(n.Component)),Pe=(a(434),function(e){Object(Q.a)(a,e);var t=Object(F.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(L())}},{key:"render",value:function(){return r.a.createElement(K.a,null,r.a.createElement(J.a,{className:"mockstar-container"},r.a.createElement(W,null),r.a.createElement(J.a.Content,null,r.a.createElement(H.a,null,r.a.createElement(q.a,{exact:!0,from:"/",to:"".concat(b(),"/mockers")}),r.a.createElement(q.a,{exact:!0,from:"".concat(b()),to:"".concat(b(),"/mockers")}),r.a.createElement(G.a,{path:"".concat(b(),"/dashboard"),component:X}),r.a.createElement(G.a,{path:"".concat(b(),"/mockers"),component:Oe}),r.a.createElement(G.a,{path:"".concat(b(),"/debug"),component:Ue})))))}}]),a}(n.Component)),xe=U(window.__initialState);var Qe=Object(i.b)((function(e){return e}),(function(e){return{dispatch:e}}))(Pe);o.a.render(r.a.createElement(i.a,{store:xe},r.a.createElement(Qe,null)),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.885e2d6a.chunk.js.map